{"ast":null,"code":"import _classCallCheck from\"/home/adam/Documents/coding/Chat App (MEARN socket.io realtime)/chat-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/adam/Documents/coding/Chat App (MEARN socket.io realtime)/chat-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/adam/Documents/coding/Chat App (MEARN socket.io realtime)/chat-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/adam/Documents/coding/Chat App (MEARN socket.io realtime)/chat-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/adam/Documents/coding/Chat App (MEARN socket.io realtime)/chat-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import\"./App.css\";import{Container,FormGroup,Form,Input,Label,Button}from\"reactstrap\";import axios from\"axios\";import socketIOClient from\"socket.io-client\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={name:\"\",message:\"\",messages:[]};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.socket=socketIOClient(\"http://localhost:4001\");_this.socket.on(\"message\",function(){return _this.getMessages();});_this.socket.on(\"hello\",function(message){return console.log(message);});return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.getMessages();console.log(\"mounted\");}},{key:\"getMessages\",value:function getMessages(){var _this2=this;axios.get(\"http://localhost:4001/messages\").then(function(res){return _this2.setState({messages:res.data.map(function(message){return/*#__PURE__*/React.createElement(\"div\",{className:message.name===_this2.state.name?\"message-container-own\":\"message-container-other\"},/*#__PURE__*/React.createElement(\"div\",{className:message.name===_this2.state.name?\"speach-bubble-own\":\"speach-bubble-other\"},/*#__PURE__*/React.createElement(\"p\",null,message.message)),/*#__PURE__*/React.createElement(\"div\",{className:message.name===_this2.state.name?\"name-own\":\"name-other\"},message.name));})});}).catch(function(err){return console.log(err);});}},{key:\"handleSubmit\",value:function handleSubmit(e){if(e.key===\"Enter\"||!e.key){e.preventDefault();axios.post(\"http://localhost:4001/messages\",this.state);this.setState({message:\"\"});}}},{key:\"handleDelete\",value:function handleDelete(){axios.delete(\"http://localhost:4001/messages\").catch(function(err){return console.log(err);});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(Container,{className:\"themed-container border shadow p-3 rounded \"},/*#__PURE__*/React.createElement(Button,{color:\"danger\",className:\"delete-button\",onClick:this.handleDelete},\"Delete All Messages\"),/*#__PURE__*/React.createElement(\"div\",{className:\"messages\"},this.state.messages),/*#__PURE__*/React.createElement(Form,{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"name\"},\"Name\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",placeholder:\"Insert screen name here.\",value:this.state.name,onChange:function onChange(e){return _this3.setState({name:e.target.value});}})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"input message\"},\"Message\"),/*#__PURE__*/React.createElement(Input,{type:\"textarea\",placeholder:\"Write your message here.\",value:this.state.message,onChange:function onChange(e){return _this3.setState({message:e.target.value});},onKeyDown:this.handleSubmit})),/*#__PURE__*/React.createElement(Button,{type:\"submit\"},\"Send Message\"))));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/home/adam/Documents/coding/Chat App (MEARN socket.io realtime)/chat-app/src/App.js"],"names":["React","Container","FormGroup","Form","Input","Label","Button","axios","socketIOClient","App","props","state","name","message","messages","handleSubmit","bind","socket","on","getMessages","console","log","get","then","res","setState","data","map","catch","err","e","key","preventDefault","post","delete","handleDelete","target","value","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./App.css\";\nimport { Container, FormGroup, Form, Input, Label, Button } from \"reactstrap\";\nimport axios from \"axios\";\nimport socketIOClient from \"socket.io-client\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      name: \"\",\n      message: \"\",\n      messages: [],\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n\n    this.socket = socketIOClient(\"http://localhost:4001\");\n\n    this.socket.on(\"message\", () => this.getMessages());\n    this.socket.on(\"hello\", (message) => console.log(message));\n  }\n\n  componentDidMount() {\n    this.getMessages();\n    console.log(\"mounted\");\n  }\n\n  getMessages() {\n    axios\n      .get(\"http://localhost:4001/messages\")\n      .then((res) =>\n        this.setState({\n          messages: res.data.map((message) => (\n            <div\n              className={\n                message.name === this.state.name\n                  ? \"message-container-own\"\n                  : \"message-container-other\"\n              }\n            >\n              <div\n                className={\n                  message.name === this.state.name\n                    ? \"speach-bubble-own\"\n                    : \"speach-bubble-other\"\n                }\n              >\n                <p>{message.message}</p>\n              </div>\n              <div\n                className={\n                  message.name === this.state.name ? \"name-own\" : \"name-other\"\n                }\n              >\n                {message.name}\n              </div>\n            </div>\n          )),\n        })\n      )\n      .catch((err) => console.log(err));\n  }\n\n  handleSubmit(e) {\n    if (e.key === \"Enter\" || !e.key) {\n      e.preventDefault();\n      axios.post(\"http://localhost:4001/messages\", this.state);\n      this.setState({ message: \"\" });\n    }\n  }\n\n  handleDelete() {\n    axios\n      .delete(\"http://localhost:4001/messages\")\n      .catch((err) => console.log(err));\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Container className=\"themed-container border shadow p-3 rounded \">\n          <Button\n            color=\"danger\"\n            className=\"delete-button\"\n            onClick={this.handleDelete}\n          >\n            Delete All Messages\n          </Button>\n          <div className=\"messages\">{this.state.messages}</div>\n          <Form onSubmit={this.handleSubmit}>\n            <FormGroup>\n              <Label for=\"name\">Name</Label>\n              <Input\n                type=\"text\"\n                placeholder=\"Insert screen name here.\"\n                value={this.state.name}\n                onChange={(e) => this.setState({ name: e.target.value })}\n              ></Input>\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"input message\">Message</Label>\n              <Input\n                type=\"textarea\"\n                placeholder=\"Write your message here.\"\n                value={this.state.message}\n                onChange={(e) => this.setState({ message: e.target.value })}\n                onKeyDown={this.handleSubmit}\n              ></Input>\n            </FormGroup>\n            <Button type=\"submit\">Send Message</Button>\n          </Form>\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}